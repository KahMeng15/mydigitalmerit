<!doctype html>
<html>
<head><title>Test Sanitization</title></head>
<body>
  <h3>Test Email Sanitization</h3>
  <div id="result"></div>
  
  <script src="../assets/js/utils.js"></script>
  <script>
    const email = 'kmeng.development@gmail.com';
    const sanitized = sanitizeEmailForKey(email);
    const unsanitized = unsanitizeKey(sanitized);
    
    document.getElementById('result').innerHTML = `
      <p>Original: ${email}</p>
      <p>Sanitized: ${sanitized}</p>
      <p>Unsanitized: ${unsanitized}</p>
      <p>Expected DB key: kmeng,development@gmail,com</p>
      <p>Match: ${sanitized === 'kmeng,development@gmail,com' ? '✅' : '❌'}</p>
      <p>Firebase Path Valid: ${!sanitized.includes('.') ? '✅' : '❌'}</p>
    `;
  </script>
</body>
</html>
